
IP Layer
We will look at how you get the data that applications have generated and take it out of the local machine and carry it over the network to another device. This is where the Internet, or network layer and link layer come in. First, the Internet layer. This layer is responsible for 
→ Addressing
→  Routing
→  Error handling, and of course, managing data flow to the layer beneath it. 
The Internet Protocol is available in two versions. IPV version 4 or IPv4. And IP version 6 or IPv6. Both offer the same service, but in a slightly different way. The very basic difference between them is addressing.  IP is also responsible for routing, meaning finding a path for a packet to move around the networks until it reaches the destination. If the receiving node is on the same network, the packet is delivered directly. This is called local delivery. If the receiver is on another network, then the protocol delivers the message to a device called a router. If the receiver is connected to the router the message is passed to it. Otherwise, it is sent to the next router and then to the next and so on.
HOP
A jump from one router to another is called a hop. It is theorized that you can reach anywhere on the internet with a maximum of 64 hops, and reach more than 99% of the internet using 32 hops. Some protocols might have their own limitations. For example, the routing information protocol, or RIP, has a limit of 15 hops. Other routing protocols are, for example, open shortest path first, or OSPF and Border Gateway Protocol or BGP. The Internet Control Message Protocol, or ICMP, is used for reporting errors in the delivery of IP packets. It is part of the IP Suite. Think of it running in parallel with the normal IP functions. 
Example
Imagine running two network cables between the nodes A and B, the first one carries data from A to B. The second one carries an error message from B to A. Only if the path between A and B is blocked or unreachable. In this example, the network cable between A and B represents standard IP packets and the network cable between B and A carrying error messages represents ICMP. Whenever an IP packet can't be delivered, the router on that point generates an ICMP packet, and forwards it to the sender. IP doesn't act on the error message, but sends it to the transport layer protocol, TCP or UDP. And they can then decide whether to retransmit the lost data or not. Another important protocol of the IP suite is IPSec. IP Security is a set of protocols for securing communication between devices. Unlike, TOS and DTLS mentioned earlier, this one operates in the internet layer. 


Link Layer
It's responsible for transmitting information from one point in the local network to another point in the same network. So, in theory, with the presence of this layer, you would be able to create a local area network. Or be able to communicate locally even if you don't implement the internet layer. The link layer acts as an interface between the lower physical hardware implementation of the network and the upper, more logical, software-focused implementation of the network. The link layer has several functions. First, it provides local addressing.
ARP
A link layer protocol called ARP or address resolution protocol, has the job of identifying which IP address corresponds to which MAC address. So when you change your IP address, ARP updates the local table and puts the new address against your MAC address. The link layer also provides local error detection of errors that could have been caused by noise on the network channels. The most common method is adding cyclic redundancy check or CRC Codes. When you take the data from the upper layers add the local MAC addresses of the destination on yours add CRC codes for error detection and any other fields required by the local lead protocol. 
